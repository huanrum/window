var react_addons_test_utils_1 = require('react-addons-test-utils');
var Greeting_1 = require('../../src/components/Greeting');
var GreetingActions = require('../../src/actions/GreetingActions');
describe('Greeting', function () {
    var handleSelectionChangeSpy;
    beforeEach(function () {
        handleSelectionChangeSpy = jasmine.createSpy('handleSelectionChange');
    });
    it('given a targetOfGreeting of \'James\' it renders a p containing a greeting and a remove button', function () {
        var targetOfGreeting = 'James';
        var p = render({ targetOfGreeting: targetOfGreeting });
        expect(p.type).toBe('p');
        expect(p.props.children[0]).toBe('Hello ');
        expect(p.props.children[1]).toBe('James');
        expect(p.props.children[2]).toBe('!');
        var _a = p.props.children, button = _a[3];
        expect(button.type).toBe('button');
        expect(button.props.className).toBe('btn btn-default btn-danger');
        expect(button.props.children).toBe('Remove');
    });
    it('button onClick triggers an removeGreeting action', function () {
        var targetOfGreeting = 'Benjamin';
        var p = render({ targetOfGreeting: targetOfGreeting });
        var _a = p.props.children, button = _a[3];
        spyOn(GreetingActions, 'removeGreeting');
        button.props.onClick();
        expect(GreetingActions.removeGreeting).toHaveBeenCalledWith(targetOfGreeting);
    });
    function render(_a) {
        var targetOfGreeting = _a.targetOfGreeting;
        var shallowRenderer = react_addons_test_utils_1.default.createRenderer();
        shallowRenderer.render(<Greeting_1.default key={0} targetOfGreeting={targetOfGreeting}/>);
        return shallowRenderer.getRenderOutput();
    }
});
//# sourceMappingURL=Greeting.tests.js.map